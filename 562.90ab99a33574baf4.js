"use strict";(self.webpackChunksearchMoviesAngular=self.webpackChunksearchMoviesAngular||[]).push([[562],{7562:(J,m,a)=>{a.r(m),a.d(m,{MoviesModule:()=>A});var c=a(6895),b=a(529),p=a(9965),e=a(8256),l=a(5689),d=a(7802),g=a(433),u=a(5746);const f=function(o){return{color:o}};let _=(()=>{class o{constructor(){this.IMG_URL=u.b}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-movie"]],inputs:{movie:"movie"},decls:13,vars:8,consts:[[1,"app-movie"],[3,"routerLink"],[1,"app-movie-img"],["alt","No Image Available",3,"src"],[1,"app-movie-inf"],[1,"app-movie-inf-first"],[1,"app-movie-inf-title"],[1,"tag",3,"ngStyle"],[1,"app-movie-inf-second-year"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"a",1)(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7),e.qZA(),e.TgZ(8,"div",7),e._uU(9),e.qZA()(),e.TgZ(10,"div",8),e._uU(11),e.qZA()()()(),e._UZ(12,"br")),2&t&&(e.xp6(1),e.s9C("routerLink",n.movie.id),e.xp6(2),e.Q6J("src",n.IMG_URL+n.movie.poster_path,e.LSH),e.xp6(4),e.Oqu(n.movie.original_title),e.xp6(1),e.Q6J("ngStyle",e.VKq(6,f,n.movie.vote_average<=7?"red":"green")),e.xp6(1),e.Oqu(n.movie.vote_average),e.xp6(2),e.Oqu(n.movie.release_date))},dependencies:[c.PC,p.yS],styles:[".app-movie[_ngcontent-%COMP%]{width:100%;height:30rem;background:gainsboro;border:1px solid gray;border-radius:.5rem;box-shadow:var(--var-box-shedow-header)}.app-movie-img[_ngcontent-%COMP%]{width:100%;height:75%;text-align:center;font-size:0}.app-movie-img[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:.5rem .5rem 0 0}.app-movie-inf[_ngcontent-%COMP%]{width:100%;height:25%;background:var(--var-bg-header);border-radius:0 0 .5rem .5rem;padding:.3rem;display:flex;flex-direction:column;justify-content:space-evenly}.app-movie-inf-first[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.app-movie-inf-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--var-header-color)}.tag[_ngcontent-%COMP%]{background:#3e3e3e;padding:.4rem;box-sizing:border-box;font-weight:700;font-size:1.2rem;color:gray;border-radius:.3rem}.tag.green[_ngcontent-%COMP%]{color:green}.tag.red[_ngcontent-%COMP%]{color:red}.app-movie-inf-second-year[_ngcontent-%COMP%]{width:100%;background:var(--var-bg-header);text-align:center;font-weight:700;font-size:1.5rem;padding:.3rem;color:var(--var-header-color)}a[_ngcontent-%COMP%]{text-decoration:none}"]}),o})();function M(o,r){1&o&&e._UZ(0,"app-movie",12),2&o&&e.Q6J("movie",r.$implicit)}function x(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.goStartOrEnd(1))}),e._uU(2),e.qZA(),e.TgZ(3,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.goNextOrPrevious(-1))}),e._uU(4),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(2),e.Oqu(1),e.xp6(2),e.hij("",t.page-1," <<")}}function C(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.goNextOrPrevious(1))}),e._uU(2),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(2),e.hij(" >> ",t.page+1,"")}}function O(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.goStartOrEnd(i.total_pages))}),e._uU(2),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.total_pages)}}let k=(()=>{class o{constructor(t,n){this.movieService=t,this.behaviorSubjectService=n,this.word="",this.page=1,this.total_pages=500}ngOnInit(){this.movieService.getAll(this.page).subscribe(({page:t,results:n,total_pages:i,total_results:s})=>{this.movies=n,this.page=t,this.total_pages=i,this.total_results=s})}goStartOrEnd(t){this.page=t}goNextOrPrevious(t){this.page+=t,this.movieService.getAll(this.page).subscribe(({page:n,results:i,total_pages:s,total_results:v})=>{this.movies=i,this.page=n,this.total_pages=s,this.total_results=v})}search(){this.behaviorSubjectService.storage.next(this.word)}sortByVoteAverage(){this.movies=this.movies.slice().sort((t,n)=>n.vote_average-t.vote_average)}sortByName(){this.movies=this.movies.slice().sort((t,n)=>t.title>n.title?1:-1)}sortByDate(){this.movies=this.movies.slice().sort((t,n)=>n.release_date>t.release_date?1:-1)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.I),e.Y36(d.k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-movies"]],decls:22,vars:6,consts:[[1,"search-sort-movies"],[1,"movies-sort"],[1,"btn-search",3,"click"],[1,"app-search-movies-input"],[1,"app-search-movies-input-block"],["type","text","placeholder","search...",3,"ngModel","ngModelChange"],["routerLink","/movies/search",1,"btn-search",3,"click"],[1,"app-movies"],["class","app-movies-block",3,"movie",4,"ngFor","ngForOf"],[1,"pagination"],[4,"ngIf"],["disabled","",1,"btn","size"],[1,"app-movies-block",3,"movie"],[1,"btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," sort by: "),e.TgZ(3,"button",2),e.NdJ("click",function(){return n.sortByName()}),e._uU(4,"name"),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return n.sortByDate()}),e._uU(6,"date"),e.qZA(),e.TgZ(7,"button",2),e.NdJ("click",function(){return n.sortByVoteAverage()}),e._uU(8,"average"),e.qZA()(),e.TgZ(9,"div",3)(10,"div",4)(11,"input",5),e.NdJ("ngModelChange",function(s){return n.word=s}),e.qZA()(),e.TgZ(12,"button",6),e.NdJ("click",function(){return n.search()}),e._uU(13,"search"),e.qZA()()(),e.TgZ(14,"div",7),e.YNc(15,M,1,1,"app-movie",8),e.qZA(),e.TgZ(16,"div",9),e.YNc(17,x,5,2,"ng-container",10),e.TgZ(18,"button",11),e._uU(19),e.qZA(),e.YNc(20,C,3,1,"ng-container",10),e.YNc(21,O,3,1,"ng-container",10),e.qZA()),2&t&&(e.xp6(11),e.Q6J("ngModel",n.word),e.xp6(4),e.Q6J("ngForOf",n.movies),e.xp6(2),e.Q6J("ngIf",n.page>1),e.xp6(2),e.Oqu(n.page),e.xp6(1),e.Q6J("ngIf",n.page<n.total_pages),e.xp6(1),e.Q6J("ngIf",n.page!==n.total_pages))},dependencies:[c.sg,c.O5,p.rH,g.Fj,g.JJ,g.On,_],styles:[".app-movies[_ngcontent-%COMP%]{width:100%;background:var(--var-bg-all);display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;justify-content:space-evenly}.app-movies-block[_ngcontent-%COMP%]{width:22%;padding:.5rem}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:var(--var-bg-all);text-align:center;color:#fff;padding:2rem 0}.btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:2.5rem;padding:.2rem;margin-right:2rem;background:var(--var-bg-header);font-weight:700;font-size:1.3rem;width:5rem;height:5rem;color:var(--var-header-color);box-shadow:var(--var-box-shadov-btn)}.size[_ngcontent-%COMP%]{font-size:2rem;background:var(--var-header-color);color:var(--var-bg-header)}.search-sort-movies[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;background:var(--var-bg-all)}.movies-sort[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-transform:uppercase;color:var(--var-header-color);font-weight:700}.btn-search[_ngcontent-%COMP%]{width:5rem;font-weight:700;background:var(--var-bg-btn);color:var(--var-color-btn);box-shadow:var(--var-box-shadov-btn);margin-left:.6rem;border-radius:1rem;padding:.2rem}.app-search-movies-input-block[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:15rem;height:2rem;border-radius:1rem;color:var(--var-color-btn);font-weight:700;box-shadow:var(--var-box-shedow-header);padding:0 0 0 1rem}.app-search-movies-input[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;background:var(--var-bg-all);padding:2rem 2rem 2rem 0}"]}),o})();var h=a(9664);function w(o,r){1&o&&e._UZ(0,"app-movie",6),2&o&&e.Q6J("movie",r.$implicit)}function y(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.goStartOrEnd(1))}),e._uU(2),e.qZA(),e.TgZ(3,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.goNextOrPrevious(-1))}),e._uU(4),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(2),e.Oqu(1),e.xp6(2),e.hij("",t.page-1," <<")}}function Z(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.goNextOrPrevious(1))}),e._uU(2),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(2),e.hij(" >> ",t.page+1,"")}}function T(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.goStartOrEnd(i.total_pages))}),e._uU(2),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.total_pages)}}let P=[{path:"",component:k},{path:"search",component:(()=>{class o{constructor(t,n){this.movieService=t,this.behaviorSubjectService=n,this.word="",this.page=1,this.total_pages=500,this.IMG_URL=u.b,n.storage.subscribe(i=>this.word=i)}ngOnInit(){this.movieService.getSearch(this.word,this.page).subscribe(({page:t,results:n,total_pages:i,total_results:s})=>{this.movies=n,this.page=t,this.total_pages=i,this.total_results=s})}goStartOrEnd(t){this.page=t}goNextOrPrevious(t){this.page+=t,this.movieService.getSearch(this.word,this.page).subscribe(({page:n,results:i,total_pages:s,total_results:v})=>{this.movies=i,this.page=n,this.total_pages=s,this.total_results=v,console.log(i)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.I),e.Y36(d.k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-search-movies"]],decls:9,vars:5,consts:[[1,"app-search-movies"],[1,"app-search-movies-block"],["class","app-movies-block",3,"movie",4,"ngFor","ngForOf"],[1,"pagination"],[4,"ngIf"],["disabled","",1,"btn","size"],[1,"app-movies-block",3,"movie"],[1,"btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,w,1,1,"app-movie",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,y,5,2,"ng-container",4),e.TgZ(5,"button",5),e._uU(6),e.qZA(),e.YNc(7,Z,3,1,"ng-container",4),e.YNc(8,T,3,1,"ng-container",4),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",n.movies),e.xp6(2),e.Q6J("ngIf",n.page>1),e.xp6(2),e.Oqu(n.page),e.xp6(1),e.Q6J("ngIf",n.page<n.total_pages),e.xp6(1),e.Q6J("ngIf",n.page!==n.total_pages))},dependencies:[c.sg,c.O5,_],styles:[".app-search-movies[_ngcontent-%COMP%]{width:100%;min-height:100vh;padding:1rem;text-align:center;background:var(--var-bg-all)}.app-search-movies-block[_ngcontent-%COMP%]{width:100%;background:var(--var-bg-all);display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;justify-content:space-evenly;margin-top:1rem}.app-search-movies-input-block[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:25rem;height:2rem;border-radius:1rem;color:var(--var-color-btn);font-weight:700;box-shadow:var(--var-box-shedow-header);padding:0 0 0 1rem}.btn-search[_ngcontent-%COMP%]{width:15rem;font-weight:700;background:var(--var-bg-btn);color:var(--var-color-btn);box-shadow:var(--var-box-shadov-btn);margin-bottom:3rem;margin-top:2rem;border-radius:1rem;padding:.3rem}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:var(--var-bg-all);text-align:center;color:#fff;padding:2rem 0}.btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:2.5rem;padding:.2rem;margin-right:2rem;background:var(--var-bg-header);font-weight:700;font-size:1.3rem;width:5rem;height:5rem;color:var(--var-header-color);box-shadow:var(--var-box-shadov-btn)}.size[_ngcontent-%COMP%]{font-size:2rem;background:var(--var-header-color);color:var(--var-bg-header)}.app-movies-block[_ngcontent-%COMP%]{width:22%;padding:.5rem}"]}),o})()},{path:":id",component:h.Q},{path:"search/:id",component:h.Q}],S=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(P),p.Bz]}),o})(),A=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[l.I],imports:[c.ez,S,b.JF,g.u5]}),o})()}}]);